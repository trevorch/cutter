import{E as te,i as he}from"./element-plus-CRGBzuq5.js";import{f as Y,g as Q,B as ke,l as we,w as be,Q as Te}from"./@element-plus-By79ymwD.js";import{r as $,j as re,c as B,o as H,a as z,M as A,u as d,d as ie,k as ve,ag as C,aq as Ce,I as _e,G as ce,H as s,P as e,L as x,S as Se,w as ze,J as pe,O as ue,a6 as ye,D as xe,n as Me,X as Pe,Q as Ee,at as De}from"./@vue-C01xNfPK.js";import{d as de,c as Ie}from"./pinia-CKuVeK4o.js";import{P as je}from"./plyr-CZIZ1zVJ.js";import{H as ae}from"./hls.js-DWnTp5j0.js";import{f as fe}from"./flv.js-HEV2ctDJ.js";import"./lodash-es-S0Y0Up6J.js";import"./@vueuse-ZGnAJoZm.js";import"./@popperjs-D_chPuIy.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-NaOncrXL.js";import"./async-validator-9PlIezaS.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@floating-ui-DwceP2Gb.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))v(o);new MutationObserver(o=>{for(const _ of o)if(_.type==="childList")for(const w of _.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&v(w)}).observe(document,{childList:!0,subtree:!0});function p(o){const _={};return o.integrity&&(_.integrity=o.integrity),o.referrerPolicy&&(_.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?_.credentials="include":o.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function v(o){if(o.ep)return;o.ep=!0;const _=p(o);fetch(o.href,_)}})();function Le(m,a="未知错误"){if(m instanceof Error)return m.message;if(typeof m=="string")return m;if(typeof m=="object"&&m!==null&&"message"in m&&typeof m.message=="string")return m.message;try{return JSON.stringify(m)}catch{return a}}const ne={showClose:!0,dangerouslyUseHTMLString:!0,duration:3e3},le=`style="
      width: 500px; 
      word-wrap: break-word;
      word-break: break-all;
      white-space: normal;
      overflow-wrap: anywhere;
    "`;function q(m,a){const p=Le(m),v=a?`${a}: ${p}`:p;te.error({...ne,message:`
    <div ${le}>
      ${v}
    </div>
    `})}function D(m){te.error({...ne,message:`
    <div ${le}>
      ${m}
    </div>
    `})}function Oe(m){te.info({...ne,message:`
    <div ${le}>
      ${m}
    </div>
    `})}function G(m){te.success({...ne,message:`
    <div ${le}>
      ${m}
    </div>
    `})}const X=m=>{try{const[a,p]=m.split("."),[v,o,_]=a.split(":").map(Number),w=p?parseInt(p.padEnd(3,"0")):0;return v*3600+o*60+_+w/1e3}catch{return 0}},I=m=>{const a=Math.round(m%1*1e3),p=Math.floor(m),v=Math.floor(p/3600),o=Math.floor(p%3600/60),_=p%60;return`${String(v).padStart(2,"0")}:${String(o).padStart(2,"0")}:${String(_).padStart(2,"0")}.${String(a).padStart(3,"0")}`},W=de("player",()=>{const m=$(""),a=$(null),p=$(null),v=$(null),o=$(null),_=$(null),w=r=>{a.value=new je(r,{hideControls:!1,controls:["play-large","current-time","progress","duration","mute","volume","fullscreen","settings"],blankVideo:"https://cdn.plyr.io/static/blank.mp4"})},V=r=>{o.value=r,m.value=r.date;const f=r.urls[0],b={type:"video",sources:[{src:f,type:L(f)}]};O(b).then(()=>{var P;return(P=a.value)==null?void 0:P.play()})},L=r=>r.includes(".m3u8")?"application/x-mpegURL":r.includes(".flv")?"video/x-flv":"video/mp4",O=async r=>{var b,P,M;(b=p.value)==null||b.destroy(),p.value=null,(P=v.value)==null||P.destroy(),v.value=null;const f=r.sources[0].src.includes(".m3u8")?"hls":r.sources[0].src.includes(".flv")?"flv":"html5";try{f!==_.value&&await((M=a.value)==null?void 0:M.stop()),a.value.source=r,f==="hls"&&ae.isSupported()?await K(r.sources[0].src):f==="flv"&&fe.isSupported()&&await N(r.sources[0].src),_.value=f}catch(R){console.error("源切换失败:",R)}},K=async r=>new Promise(f=>{p.value=new ae,p.value.loadSource(r),p.value.attachMedia(a.value.media),p.value.on(ae.Events.MANIFEST_PARSED,f)}),N=async r=>{v.value=fe.createPlayer({type:"flv",url:r}),v.value.attachMediaElement(a.value.media),v.value.load(),await v.value.play()},j=$(!1);return{player:a,initPlayer:w,switchSource:O,playStream:V,title:m,data:o,autoPlay:j,jumpTo:r=>{const f=X(r);if(a.value&&f>0)try{a.value.currentTime=f,j.value?a.value.play():a.value.pause()}catch(b){q(b,"跳转播放失败，请检查播放器状态")}}}}),Ve={class:"video-wrapper"},He={class:"title"},Ke={class:"plyr-container"},Ne={__name:"Player",setup(m){const a=W(),p=$(null);return re(()=>{a.initPlayer(p.value)}),(v,o)=>(H(),B("div",Ve,[z("h3",He,A(d(a).title),1),z("div",Ke,[z("video",{class:"player",ref_key:"videoRef",ref:p,playsinline:""},null,512)])]))}},me=de("editor",()=>{const m=$(!1),a=$(!1),p=$(""),v=$(null),o=$(0),_=u=>{a.value=!0,v.value=u,p.value=u.date,j()},w=$([]),V=u=>{try{const[r,f]=u.split("."),[b,P,M]=r.split(":").map(Number);return b*3600+P*60+M}catch(r){console.error(r)}},L=$(new Map),O=()=>{L.value.clear(),w.value.forEach((u,r)=>{try{const f=V(u.time);L.value.has(f)||L.value.set(f,r)}catch(f){console.error(`错误处理时间戳 ${u.time}（索引 ${r}）: ${f}`)}})},K=u=>{if(!w.value)return;const r=o.value+u;o.value=Math.max(r,0);const f=u/1e3;w.value=w.value.map(b=>{const M=X(b.time)+f;return{...b,time:I(Math.max(M,0))}}),O()},N=()=>{if(w.value){if(o.value){const u=o.value/1e3;w.value=w.value.map(r=>{const b=X(r.time)-u;return{...r,time:I(Math.max(b,0))}})}o.value=0,O()}},j=async()=>{var u;m.value=!0;try{const r=await fetch(`srts/${(u=v.value)==null?void 0:u.id}`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);if(w.value=await r.json(),o.value){const f=o.value/1e3;w.value=w.value.map(b=>{const M=X(b.time)+f;return{...b,time:I(Math.max(M,0))}})}O()}catch(r){console.error("数据获取失败:",r),q(r,"字幕数据加载失败，请稍后重试"),w.value=[]}finally{m.value=!1}};return{open:a,title:p,edit:_,data:v,timelineData:w,loading:m,shiftCount:o,shiftSubtitles:K,timeToSeconds:X,secondsToTime:I,resetSubtitles:N,timeMap:L,timeToKey:V}}),ge=(m,a)=>{const p=m.__vccOpts||m;for(const[v,o]of a)p[v]=o;return p},Re=["onClick"],Ue=["onClick"],Ae={style:{display:"flex",gap:"0","justify-content":"flex-end"}},Fe=ie({__name:"Playlist",setup(m){const a=W(),p=me(),v=$(""),o=$(!0),_=$([]),w=async()=>{try{const u=await fetch("video.json");if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);_.value=await u.json()}catch(u){q(u,"数据加载失败")}finally{o.value=!1}},V=ve(()=>{const u=v.value.toLowerCase();return _.value.filter(r=>r.id.toLowerCase().includes(u)||r.date.toLowerCase().includes(u))}),L=async u=>{var r;((r=u.urls)==null?void 0:r.length)>0?await K(u.urls[0],"链接已复制到剪贴板","链接复制失败"):D("该记录没有可用的链接")},O=async u=>{u.id?await K(u.id,"ID已复制到剪贴板","ID复制失败"):D("该记录没有可用的ID")},K=async(u,r,f)=>{try{await navigator.clipboard.writeText(u),G(r)}catch(b){q(b,f)}},N=u=>{var r;(r=u.urls)!=null&&r.length&&(u.urls[0],a.playStream(u),p.edit(u))},j=u=>{var r;(r=u.urls)!=null&&r.length&&(u.urls[0],a.playStream(u))};return re(()=>{w()}),(u,r)=>{const f=C("el-table-column"),b=C("el-input"),P=C("el-button"),M=C("el-table"),R=Ce("loading");return _e((H(),ce(M,{data:V.value,"default-sort":{prop:"date",order:"descending"},height:"100%",style:{width:"100%"}},{default:s(()=>[e(f,{fixed:"",label:"日期",prop:"date",sortable:"",width:"140"},{default:s(i=>[z("span",{class:"clickable-text",onClick:t=>L(i.row)},A(i.row.date),9,Re)]),_:1}),e(f,{fixed:"",label:"标识",prop:"id",width:"180"},{default:s(i=>[z("span",{class:"clickable-text",onClick:t=>O(i.row)},A(i.row.id),9,Ue)]),_:1}),e(f,{fixed:"right",align:"right",width:"115"},{header:s(()=>[e(b,{modelValue:v.value,"onUpdate:modelValue":r[0]||(r[0]=i=>v.value=i),size:"small",placeholder:"输入关键词搜索"},null,8,["modelValue"])]),default:s(i=>{var t,l;return[z("div",Ae,[e(P,{plain:"",size:"small",onClick:n=>N(i.row),type:i.row.hasSrt?"success":"warning",disabled:!i.row.hasSrt},{default:s(()=>r[1]||(r[1]=[x(" 编辑 ")])),_:2},1032,["onClick","type","disabled"]),e(P,{plain:"",size:"small",onClick:n=>j(i.row),type:(t=i.row.urls)!=null&&t.length?"success":"warning",disabled:!((l=i.row.urls)!=null&&l.length)},{default:s(()=>r[2]||(r[2]=[x(" 播放 ")])),_:2},1032,["onClick","type","disabled"])])]}),_:1})]),_:1},8,["data"])),[[R,o.value]])}}}),$e=de("picker",()=>{const m=$(!1),a=$(!1),p=$("");return $(null),$(0),{open:a,title:p,loading:m}}),Be={style:{display:"flex",gap:"0","justify-content":"flex-start"}},qe={key:0,class:"loading-state"},Je={class:"time-label"},Ye=["onClick"],Qe={key:1,class:"empty-state"},Ge={class:"footer-container"},Xe={class:"time-shift-controls"},We={class:"time-shift-controls"},Z=50,ee=5e3,Ze=ie({__name:"Editor",setup(m){const a=me(),p=W(),v=$e(),o=$(1e3),_=i=>{const t=o.value+i;o.value=Math.max(Z,Math.min(ee,t))},w=$(["你好","晚上好","拜拜","再见"]),V=i=>w.value.some(t=>i.includes(t)),L=ve(()=>a.timelineData.map((i,t)=>({text:i.text,index:t})).filter(({text:i})=>V(i)).map(({index:i})=>i).sort((i,t)=>i-t)),O=()=>{const i=L.value;if(i.length===0){D("未找到包含关键字的字幕行");return}let t=0,l=i.length-1,n=-1;for(;t<=l;){const c=Math.floor((t+l)/2);i[c]<r.value?(n=i[c],t=c+1):l=c-1}n===-1&&(n=i[i.length-1]),b(n)},K=()=>{const i=L.value;if(i.length===0){D("未找到包含关键字的字幕行");return}let t=0,l=i.length-1,n=-1;for(;t<=l;){const c=Math.floor((t+l)/2);i[c]>r.value?(n=i[c],l=c-1):t=c+1}n===-1&&(n=i[0]),b(n)},N=$(),j=$([]),u=i=>{i instanceof HTMLElement&&j.value.push(i)},r=$(0),f=async()=>{if(!p.player)return;const i=p.player.currentTime,t=I(i),l=a.timeToKey(t),n=a.timeMap.get(l);typeof n=="number"&&n!==r.value&&(r.value=n,await Me(),setTimeout(()=>b(n),50))},b=i=>{const t=N.value,l=j.value[i];if(l instanceof HTMLElement&&t){const c=l.offsetTop-t.clientHeight/2;t.scrollTo({top:c,behavior:"smooth"})}},P=$(595),M=$();let R=null;return re(()=>{M.value=document.querySelector(".grid-section.bottom"),M.value&&(R=new ResizeObserver(i=>{for(const t of i){const{height:l}=t.contentRect;P.value=l}}),R.observe(M.value)),p.player.on("timeupdate",f)}),Se(()=>{R&&M.value&&R.unobserve(M.value),p.player.off("timeupdate",f),j.value=[]}),ze(()=>a.timelineData,()=>{j.value=[]}),(i,t)=>{const l=C("Expand"),n=C("el-icon"),c=C("el-button"),h=C("Top"),E=C("Bottom"),T=C("el-text"),U=C("Minus"),F=C("el-drawer");return H(),ce(F,{modelValue:d(a).open,"onUpdate:modelValue":t[12]||(t[12]=g=>d(a).open=g),direction:"btt",modal:!1,size:P.value,onOpened:t[13]||(t[13]=g=>d(a).shiftSubtitles(0))},{header:s(()=>[z("div",Be,[e(c,{size:"small",type:d(v).open?"success":"",circle:""},{default:s(()=>[e(n,{onClick:t[0]||(t[0]=g=>d(v).open=!d(v).open)},{default:s(()=>[e(l)]),_:1})]),_:1},8,["type"]),e(c,{onClick:t[1]||(t[1]=g=>d(p).autoPlay=!d(p).autoPlay),type:d(p).autoPlay?"success":"",size:"small",circle:""},{default:s(()=>t[14]||(t[14]=[x("A")])),_:1},8,["type"]),e(c,{size:"small",circle:""},{default:s(()=>[e(n,{onClick:O},{default:s(()=>[e(h)]),_:1})]),_:1}),e(c,{size:"small",circle:""},{default:s(()=>[e(n,{onClick:K},{default:s(()=>[e(E)]),_:1})]),_:1}),e(T,{class:"mx-1",type:"warning"},{default:s(()=>{var g;return[x(A((g=d(a).data)==null?void 0:g.id),1)]}),_:1})])]),default:s(()=>[z("div",{class:"timeline-container",ref_key:"containerRef",ref:N},[d(a).loading?(H(),B("div",qe,[e(n,{class:"is-loading",color:"#409EFF",size:20},{default:s(()=>[e(d(we))]),_:1}),t[15]||(t[15]=z("span",null,"正在加载字幕数据...",-1))])):pe("",!0),(H(!0),B(ue,null,ye(d(a).timelineData,(g,k)=>(H(),B("div",{key:k,class:"timeline-item",ref_for:!0,ref:u},[z("span",Je,A(g.time),1),z("span",{class:xe(["content-text",{highlight:k==r.value,keyword:V(g.text)}]),onClick:y=>d(p).jumpTo(g.time)},A(g.text),11,Ye)]))),128)),!d(a).loading&&d(a).timelineData.length===0?(H(),B("div",Qe,[e(n,null,{default:s(()=>[e(d(be))]),_:1}),t[16]||(t[16]=z("span",null,"暂无字幕数据",-1))])):pe("",!0)],512)]),footer:s(()=>[z("div",Ge,[z("div",Xe,[e(c,{onClick:t[2]||(t[2]=g=>_(-1e3)),disabled:o.value<=Z,size:"small"},{default:s(()=>[e(n,null,{default:s(()=>[e(d(Y))]),_:1}),e(n,null,{default:s(()=>[e(d(Y))]),_:1}),e(n,null,{default:s(()=>[e(d(Y))]),_:1})]),_:1},8,["disabled"]),e(c,{onClick:t[3]||(t[3]=g=>_(-500)),disabled:o.value<=Z,size:"small"},{default:s(()=>[e(n,null,{default:s(()=>[e(d(Y))]),_:1}),e(n,null,{default:s(()=>[e(d(Y))]),_:1})]),_:1},8,["disabled"]),e(c,{onClick:t[4]||(t[4]=g=>_(-50)),disabled:o.value<=Z,size:"small"},{default:s(()=>[e(n,null,{default:s(()=>[e(d(Y))]),_:1})]),_:1},8,["disabled"]),z("span",{class:"count",onClick:t[5]||(t[5]=g=>o.value=50)},A(o.value),1),e(c,{onClick:t[6]||(t[6]=g=>_(50)),disabled:o.value>=ee,size:"small"},{default:s(()=>[e(n,null,{default:s(()=>[e(d(Q))]),_:1})]),_:1},8,["disabled"]),e(c,{onClick:t[7]||(t[7]=g=>_(500)),disabled:o.value>=ee,size:"small"},{default:s(()=>[e(n,null,{default:s(()=>[e(d(Q))]),_:1}),e(n,null,{default:s(()=>[e(d(Q))]),_:1})]),_:1},8,["disabled"]),e(c,{onClick:t[8]||(t[8]=g=>_(1e3)),disabled:o.value>=ee,size:"small"},{default:s(()=>[e(n,null,{default:s(()=>[e(d(Q))]),_:1}),e(n,null,{default:s(()=>[e(d(Q))]),_:1}),e(n,null,{default:s(()=>[e(d(Q))]),_:1})]),_:1},8,["disabled"])]),z("div",We,[e(c,{onClick:t[9]||(t[9]=g=>d(a).shiftSubtitles(-o.value)),disabled:d(a).shiftCount===0},{default:s(()=>[e(n,null,{default:s(()=>[e(U)]),_:1})]),_:1},8,["disabled"]),z("span",{class:"count",onClick:t[10]||(t[10]=(...g)=>d(a).resetSubtitles&&d(a).resetSubtitles(...g))},A(d(a).shiftCount),1),e(c,{onClick:t[11]||(t[11]=g=>d(a).shiftSubtitles(o.value))},{default:s(()=>[e(n,null,{default:s(()=>[e(d(ke))]),_:1})]),_:1})])])]),_:1},8,["modelValue","size"])}}}),et={class:"segment-container"},tt={class:"time-controls"},nt={class:"time-controls"},lt={class:"time-controls"},st={class:"card-footer"},ot=ie({__name:"Picker",setup(m){const a=W(),p=$e(),v=me(),o=Pe([_()]);function _(){return{id:crypto.randomUUID(),startTime:0,endTime:0,duration:0,isK:!1}}const w=t=>{o.splice(t+1,0,_())},V=t=>{o.length>1&&o.splice(t,1)},L=t=>{if(t>0){const l=o.splice(t,1)[0];o.splice(t-1,0,l)}},O=t=>{if(t<o.length-1){const l=o.splice(t,1)[0];o.splice(t+1,0,l)}};function K(t){if(!a.player)return;const l=a.player.currentTime,n=o[t];n.startTime=l}function N(t){if(!a.player)return;const l=a.player.currentTime,n=o[t];n.endTime=l}function j(t,l){var J;const n=o[t],c=n.isK?"-k":"";let h=(J=a.data)==null?void 0:J.urls[0];if(!h)throw D("请先播放视频"),new Error("请先播放视频");const E=h.match(/\/([^\/]+)\.mp4$/),T=E?E[1]:(()=>{const oe=new Date;return`${oe.getFullYear()}${(oe.getMonth()+1).toString().padStart(2,"0")}${oe.getDate().toString().padStart(2,"0")}`})();if(!n.startTime||!n.endTime)throw D("请先设置开始和结束时间"),new Error("请先设置开始和结束时间");const U=I(n.startTime),F=I(n.endTime),g=U.replace(/:/g,"."),k=F.replace(/:/g,".");let y="yt-dlp --no-check-certificate";y=`${y} --download-sections "*${U}-${F}"`,y=`${y} --force-keyframes-at-cuts`;const S="~/storage/downloads/Reqable/";return l=="video"&&(y=`${y} --merge-output-format mp4 -o "${S}${T}_${g}-${k}.mp4"`),l=="audio"&&(y=`${y} ${c} -x --audio-format mp3 --postprocessor-args "ffmpeg:-c:a libmp3lame -b:a 32k -minrate 32k -maxrate 32k -bufsize 64k -ac 1 -ar 22050" -o "${S}${T}_${g}-${k}.mp3"`),y=`${y} '${h}' `,y}function u(t,l){var S;const n=o[t],c=n.isK?"-k":"";let h=(S=a.data)==null?void 0:S.urls[0];if(!h)throw D("请先播放视频"),new Error("请先播放视频");const E=h.match(/\/([^\/]+)\.mp4$/),T=E?E[1]:(()=>{const J=new Date;return`${J.getFullYear()}${(J.getMonth()+1).toString().padStart(2,"0")}${J.getDate().toString().padStart(2,"0")}`})();if(!n.startTime||!n.endTime)throw D("请先设置开始和结束时间"),new Error("请先设置开始和结束时间");const U=I(n.startTime),F=I(n.endTime),g=U.replace(/:/g,"."),k=F.replace(/:/g,".");let y=`--download-sections "*${U}-${F}"`;return l=="video"&&(y=`${y} --merge-output-format mp4 -o "${T}_${g}-${k}.mp4"`),l=="audio"&&(y=`${y} ${c} -x --audio-format mp3 --postprocessor-args "ffmpeg:-c:a libmp3lame -b:a 32k -minrate 32k -maxrate 32k -bufsize 64k -ac 1 -ar 22050" -o "${T}_${g}-${k}.mp3"`),y}async function r(){var l;const t=(l=a.data)==null?void 0:l.urls[0];if(!t){D("请先播放视频");return}try{await navigator.clipboard.writeText(t),G(`链接已复制：${t}`)}catch(n){console.error(n),D("复制失败，请手动复制")}}async function f(t,l,n){let c="";switch(l){case"dlp":c=j(t,n);break;case"seal":c=u(t,n);break}try{await navigator.clipboard.writeText(c),G(`命令已复制：${c}`)}catch(h){console.error(h),D("复制失败，请手动复制")}}const b=async t=>{const l=[];o.forEach((n,c)=>{console.log(`Index: ${c}`,n),l.push(j(c,t))});try{await navigator.clipboard.writeText(l.join(`
`)),G(`命令已复制：${l.join("<br/>")}`)}catch(n){console.error(n),D("复制失败，请手动复制")}},P=$(!1);async function M(){var E;let t=(E=a.data)==null?void 0:E.urls[0];if(!t){D("请先播放视频");return}const l=t.match(/\/([^\/]+)\.mp4$/),n=l?l[1]:(()=>{const T=new Date;return`${T.getFullYear()}${(T.getMonth()+1).toString().padStart(2,"0")}${T.getDate().toString().padStart(2,"0")}`})(),c=o.filter(T=>T.startTime<T.endTime).map((T,U)=>`${I(T.startTime)}-${I(T.endTime)}`);if(!c.length){D("请先至少设置一个开始和结束时间");return}const h=`dlp ${P.value?"keep":"delete"} '${t}' ${n} ${c.join(" ")}`;try{R(h),await navigator.clipboard.writeText(h),G(`命令已复制：${h}`)}catch(T){console.error(T),q(T,"复制失败，请手动复制")}}async function R(t){try{const l=await fetch("http://localhost:8080/run",{method:"POST",headers:{"Content-Type":"text/plain"},body:t});if(!l.ok)throw new Error(`HTTP 错误: ${l.status}`);const c=(await l.json()).task_id;i(c)}catch(l){q(l,"请求失败: ")}}function i(t){const l=setInterval(async()=>{var n;try{const c=await fetch(`http://localhost:8080/progress/${t}`);if(!c.ok)throw new Error(`进度查询失败: ${c.status}`);const h=await c.json(),E=(n=h.recent_log)!=null&&n.length?`

最近日志:
`+h.recent_log.join(`
`):"";Oe(E),h.status==="completed"&&(clearInterval(l),G(`处理完成✅ (状态: ${h.status})${E}`)),h.status==="failed"&&(clearInterval(l),D(`处理完成✅ (状态: ${h.status})${E}`))}catch(c){clearInterval(l),q(c,"监控失败: ")}},1e3)}return(t,l)=>{const n=C("el-button"),c=C("el-input"),h=C("el-icon"),E=C("CaretLeft"),T=C("CaretRight"),U=C("Minus"),F=C("Plus"),g=C("el-card");return _e((H(),ce(g,{class:"segment-control-card"},{footer:s(()=>[z("div",st,[e(n,{size:"small",onClick:r},{default:s(()=>l[11]||(l[11]=[x(" 复制链接 ")])),_:1}),e(n,{size:"small",onClick:M},{default:s(()=>l[12]||(l[12]=[x("下载片段")])),_:1}),e(n,{size:"small",onClick:l[0]||(l[0]=k=>b("video"))},{default:s(()=>l[13]||(l[13]=[x("复制命令")])),_:1})])]),default:s(()=>[z("div",et,[(H(!0),B(ue,null,ye(o,(k,y)=>(H(),B("div",{key:k.id,class:"segment-item"},[z("div",tt,[e(n,{type:"primary",size:"small",onClick:S=>f(y,"seal","audio")},{default:s(()=>l[1]||(l[1]=[x("SA")])),_:2},1032,["onClick"]),e(n,{type:"primary",size:"small",onClick:S=>f(y,"seal","video")},{default:s(()=>l[2]||(l[2]=[x("SV")])),_:2},1032,["onClick"]),e(n,{type:"primary",size:"small",onClick:S=>f(y,"dlp","audio")},{default:s(()=>l[3]||(l[3]=[x("DA")])),_:2},1032,["onClick"]),e(n,{type:"primary",size:"small",onClick:S=>f(y,"dlp","video")},{default:s(()=>l[4]||(l[4]=[x("DV")])),_:2},1032,["onClick"]),e(c,{"model-value":d(v).secondsToTime(k.endTime-k.startTime),size:"small",readonly:""},null,8,["model-value"]),e(n,{size:"small",type:k.isK?"success":"info",onClick:S=>k.isK=!k.isK},{default:s(()=>[x(A(k.isK?"-k开":"-k关"),1)]),_:2},1032,["type","onClick"]),e(n,{size:"small",circle:"",type:"success"},{default:s(()=>[e(h,null,{default:s(()=>[x(A(y+1),1)]),_:2},1024)]),_:2},1024)]),z("div",nt,[e(n,{type:"success",size:"small",onClick:S=>K(y)},{default:s(()=>l[5]||(l[5]=[x("S")])),_:2},1032,["onClick"]),e(n,{type:"success",size:"small",onClick:S=>d(a).jumpTo(d(I)(k.startTime))},{default:s(()=>l[6]||(l[6]=[x("J")])),_:2},1032,["onClick"]),e(n,{type:"success",size:"small",onClick:S=>k.startTime=k.startTime-.5},{default:s(()=>[e(h,null,{default:s(()=>[e(E)]),_:1})]),_:2},1032,["onClick"]),e(n,{type:"success",size:"small",onClick:S=>k.startTime=k.startTime+.5},{default:s(()=>[e(h,null,{default:s(()=>[e(T)]),_:1})]),_:2},1032,["onClick"]),e(c,{"model-value":d(I)(k.startTime),size:"small",readonly:""},null,8,["model-value"]),e(n,{size:"small",onClick:S=>L(y),disabled:y===0||o.length===1},{default:s(()=>l[7]||(l[7]=[x("↑")])),_:2},1032,["onClick","disabled"]),e(n,{size:"small",onClick:S=>V(y),disabled:o.length===1},{default:s(()=>[e(h,null,{default:s(()=>[e(U)]),_:1})]),_:2},1032,["onClick","disabled"])]),z("div",lt,[e(n,{type:"danger",size:"small",onClick:S=>N(y)},{default:s(()=>l[8]||(l[8]=[x("E")])),_:2},1032,["onClick"]),e(n,{type:"danger",size:"small",onClick:S=>d(a).jumpTo(d(I)(k.endTime))},{default:s(()=>l[9]||(l[9]=[x("J")])),_:2},1032,["onClick"]),e(n,{type:"danger",size:"small",onClick:S=>k.endTime=k.endTime-.5},{default:s(()=>[e(h,null,{default:s(()=>[e(E)]),_:1})]),_:2},1032,["onClick"]),e(n,{type:"danger",size:"small",onClick:S=>k.endTime=k.endTime+.5},{default:s(()=>[e(h,null,{default:s(()=>[e(T)]),_:1})]),_:2},1032,["onClick"]),e(c,{type:"danger","model-value":d(I)(k.endTime),size:"small",readonly:""},null,8,["model-value"]),e(n,{size:"small",onClick:S=>O(y),disabled:y===o.length-1||o.length===1},{default:s(()=>l[10]||(l[10]=[x("↓")])),_:2},1032,["onClick","disabled"]),e(n,{size:"small",onClick:S=>w(y)},{default:s(()=>[e(h,null,{default:s(()=>[e(F)]),_:1})]),_:2},1032,["onClick"])])]))),128))])]),_:1},512)),[[Ee,d(p).open]])}}}),at=ge(ot,[["__scopeId","data-v-6b32c328"]]),rt={__name:"App",setup(m){return W(),(a,p)=>{const v=C("el-col"),o=C("el-row"),_=C("el-container");return H(),B(ue,null,[e(at),e(_,{style:{height:"100vh"}},{default:s(()=>[e(o,{class:"grid-container"},{default:s(()=>[e(v,{class:"grid-section top"},{default:s(()=>[e(Ne)]),_:1}),e(v,{class:"grid-section bottom"},{default:s(()=>[e(Fe),e(Ze)]),_:1})]),_:1})]),_:1})],64)}}},it=ge(rt,[["__scopeId","data-v-66edf2f0"]]),se=De(it);se.use(Ie());se.use(he);for(const[m,a]of Object.entries(Te))se.component(m,a);se.mount("#app");
